<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <title>Escape AI Brain ‚Äì 5 Levels</title>
  <style>
    body {
      font-family: "Segoe UI", sans-serif;
      background: linear-gradient(135deg, #020617, #1e293b);
      color: white;
      text-align: center;
      padding: 24px;
    }
    h1 {
      margin-bottom: 6px;
    }
    .game-box {
      background: #020617;
      border-radius: 18px;
      padding: 20px;
      max-width: 720px;
      margin: auto;
      box-shadow: 0 0 25px rgba(0,0,0,0.6);
    }
    .level {
      font-size: 18px;
      margin-bottom: 6px;
      color: #38bdf8;
    }
    .timer {
      font-size: 18px;
      margin-bottom: 10px;
      color: #facc15;
    }
    .question {
      font-size: 18px;
      margin-bottom: 12px;
    }
    .slots, .cards {
      display: flex;
      justify-content: center;
      gap: 12px;
      margin: 14px 0;
      flex-wrap: wrap;
    }
    .slot, .card {
      min-width: 140px;
      height: 56px;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      user-select: none;
    }
    .slot {
      border: 2px dashed #64748b;
      background: #020617;
    }
    .card {
      background: #38bdf8;
      color: #020617;
      cursor: grab;
    }
    .correct {
      background: #22c55e !important;
      color: #022c22;
      border: none;
    }
    .wrong {
      background: #ef4444 !important;
      color: #7f1d1d;
      border: none;
    }
    .choices {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
      gap: 12px;
      margin-top: 10px;
    }
    .choice {
      background: #38bdf8;
      color: #020617;
      padding: 12px;
      border-radius: 12px;
      font-weight: bold;
      cursor: pointer;
      transition: transform 0.1s ease;
    }
    .choice:hover {
      transform: scale(1.04);
    }
    button {
      background: #6366f1;
      color: white;
      border: none;
      border-radius: 12px;
      padding: 10px 18px;
      font-size: 15px;
      cursor: pointer;
      margin-top: 12px;
    }
    button:hover {
      background: #4f46e5;
    }
    .status {
      margin-top: 10px;
      font-size: 18px;
      min-height: 24px;
    }
  </style>
</head>
<body>

<h1>üß† Escape AI Brain</h1>
<p>‡∏ú‡πà‡∏≤‡∏ô 5 ‡∏î‡πà‡∏≤‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏´‡∏ô‡∏µ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏™‡∏°‡∏≠‡∏á AI (‡πÄ‡∏•‡πà‡∏ô‡∏à‡∏ö ~2 ‡∏ô‡∏≤‡∏ó‡∏µ)</p>

<div class="game-box">
  <div class="level" id="levelText"></div>
  <div class="timer">‚è≥ ‡πÄ‡∏ß‡∏•‡∏≤: <span id="time">40</span> ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ</div>
  <div class="question" id="question"></div>

  <div id="gameArea"></div>

  <button onclick="nextLevel()" id="nextBtn" style="display:none">‚û°Ô∏è ‡∏î‡πà‡∏≤‡∏ô‡∏ñ‡∏±‡∏î‡πÑ‡∏õ</button>
  <button onclick="resetGame()">üîÑ ‡πÄ‡∏•‡πà‡∏ô‡πÉ‡∏´‡∏°‡πà</button>
  <div class="status" id="status"></div>
</div>

<script>
let level = 1;
let timeLeft = 40;
let timer;

// ---------- Level Data ----------
const levels = [
  {
    type: "drag-sequence",
    question: "‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á AI ‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á",
    answer: ["Data", "Model", "Prediction"],
    options: ["Data", "Prediction", "Model"]
  },
  {
    type: "choice",
    question: "‡∏á‡∏≤‡∏ô‡πÅ‡∏ö‡∏ö‡πÑ‡∏´‡∏ô‡∏Ñ‡∏∑‡∏≠ Supervised Learning?",
    correct: "‡πÅ‡∏¢‡∏Å‡∏£‡∏π‡∏õ‡πÅ‡∏°‡∏ß/‡∏´‡∏°‡∏≤‡∏à‡∏≤‡∏Å‡∏†‡∏≤‡∏û‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏õ‡πâ‡∏≤‡∏¢‡∏Å‡∏≥‡∏Å‡∏±‡∏ö",
    options: [
      "‡∏à‡∏±‡∏î‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏£‡∏π‡πâ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏•‡πà‡∏ß‡∏á‡∏´‡∏ô‡πâ‡∏≤",
      "‡πÅ‡∏¢‡∏Å‡∏£‡∏π‡∏õ‡πÅ‡∏°‡∏ß/‡∏´‡∏°‡∏≤‡∏à‡∏≤‡∏Å‡∏†‡∏≤‡∏û‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏õ‡πâ‡∏≤‡∏¢‡∏Å‡∏≥‡∏Å‡∏±‡∏ö",
      "‡πÉ‡∏´‡πâ AI ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏°‡πÄ‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏•‡∏≠‡∏á‡∏ú‡∏¥‡∏î‡∏•‡∏≠‡∏á‡∏ñ‡∏π‡∏Å",
      "‡πÉ‡∏´‡πâ AI ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏†‡∏≤‡∏û‡∏à‡∏≤‡∏Å‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°"
    ]
  },
  {
    type: "match",
    question: "‡∏à‡∏±‡∏ö‡∏Ñ‡∏π‡πà Input ‡∏Å‡∏±‡∏ö Output ‡∏Ç‡∏≠‡∏á AI ‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á",
    pairs: [
      { input: "‡∏†‡∏≤‡∏û‡∏ñ‡πà‡∏≤‡∏¢", output: "‡∏ä‡∏∑‡πà‡∏≠‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏" },
      { input: "‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏û‡∏π‡∏î", output: "‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°" },
      { input: "‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥", output: "‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ì‡πå‡∏≠‡∏≤‡∏Å‡∏≤‡∏®" }
    ]
  },
  {
    type: "choice",
    question: "‡∏ñ‡πâ‡∏≤‡∏à‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á AI ‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡πÉ‡∏ö‡∏´‡∏ô‡πâ‡∏≤ ‡∏Ñ‡∏ß‡∏£‡πÉ‡∏ä‡πâ‡πÇ‡∏°‡πÄ‡∏î‡∏•‡πÅ‡∏ö‡∏ö‡πÉ‡∏î?",
    correct: "Computer Vision",
    options: ["Computer Vision", "NLP", "Time Series", "Recommendation System"]
  },
  {
    type: "choice",
    question: "‡∏Ç‡πâ‡∏≠‡πÉ‡∏î‡∏Ñ‡∏∑‡∏≠ AI ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏ò‡∏£‡∏£‡∏° (Fair AI)?",
    correct: "‡πÉ‡∏´‡πâ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÄ‡∏ó‡πà‡∏≤‡πÄ‡∏ó‡∏µ‡∏¢‡∏°‡∏Å‡∏±‡∏ö‡∏ó‡∏∏‡∏Å‡πÄ‡∏û‡∏®‡πÅ‡∏•‡∏∞‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡∏ä‡∏≤‡∏ï‡∏¥",
    options: [
      "‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÄ‡∏î‡∏µ‡∏¢‡∏ß",
      "‡πÉ‡∏´‡πâ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÄ‡∏ó‡πà‡∏≤‡πÄ‡∏ó‡∏µ‡∏¢‡∏°‡∏Å‡∏±‡∏ö‡∏ó‡∏∏‡∏Å‡πÄ‡∏û‡∏®‡πÅ‡∏•‡∏∞‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡∏ä‡∏≤‡∏ï‡∏¥",
      "‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡πÄ‡∏£‡πá‡∏ß‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏™‡∏ô‡πÉ‡∏à‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•",
      "‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå AI 100% ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö"
    ]
  }
];

// ---------- Timer ----------
function startTimer() {
  clearInterval(timer);
  timeLeft = 40;
  document.getElementById("time").textContent = timeLeft;
  timer = setInterval(() => {
    timeLeft--;
    document.getElementById("time").textContent = timeLeft;
    if (timeLeft <= 0) {
      clearInterval(timer);
      document.getElementById("status").textContent = "‚è∞ ‡∏´‡∏°‡∏î‡πÄ‡∏ß‡∏•‡∏≤! ‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á";
    }
  }, 1000);
}

// ---------- Utilities ----------
function shuffle(arr) {
  return arr.sort(() => Math.random() - 0.5);
}

// ---------- Level Renderers ----------
function renderLevel() {
  document.getElementById("status").textContent = "";
  document.getElementById("nextBtn").style.display = "none";
  const gameArea = document.getElementById("gameArea");
  gameArea.innerHTML = "";

  const lvl = levels[level - 1];
  document.getElementById("levelText").textContent = `‡∏î‡πà‡∏≤‡∏ô‡∏ó‡∏µ‡πà ${level} / 5`;
  document.getElementById("question").textContent = lvl.question;

  if (lvl.type === "drag-sequence") {
    const slots = document.createElement("div");
    slots.className = "slots";
    lvl.answer.forEach(() => {
      const s = document.createElement("div");
      s.className = "slot";
      s.addEventListener("dragover", e => e.preventDefault());
      s.addEventListener("drop", e => dropSequence(e, lvl.answer));
      slots.appendChild(s);
    });

    const cards = document.createElement("div");
    cards.className = "cards";
    shuffle([...lvl.options]).forEach(word => {
      const c = document.createElement("div");
      c.className = "card";
      c.textContent = word;
      c.draggable = true;
      c.addEventListener("dragstart", e => {
        e.dataTransfer.setData("text/plain", word);
      });
      cards.appendChild(c);
    });

    gameArea.appendChild(slots);
    gameArea.appendChild(cards);
  }

  else if (lvl.type === "choice") {
    const choices = document.createElement("div");
    choices.className = "choices";
    shuffle([...lvl.options]).forEach(opt => {
      const c = document.createElement("div");
      c.className = "choice";
      c.textContent = opt;
      c.onclick = () => checkChoice(opt, lvl.correct);
      choices.appendChild(c);
    });
    gameArea.appendChild(choices);
  }

  else if (lvl.type === "match") {
    const pairsDiv = document.createElement("div");
    pairsDiv.className = "slots";

    shuffle([...lvl.pairs]).forEach(pair => {
      const row = document.createElement("div");
      row.style.display = "flex";
      row.style.gap = "10px";
      row.style.alignItems = "center";

      const left = document.createElement("div");
      left.className = "card";
      left.textContent = pair.input;
      left.style.cursor = "default";

      const slot = document.createElement("div");
      slot.className = "slot";
      slot.dataset.answer = pair.output;
      slot.addEventListener("dragover", e => e.preventDefault());
      slot.addEventListener("drop", e => dropMatch(e, slot));

      row.appendChild(left);
      row.appendChild(slot);
      pairsDiv.appendChild(row);
    });

    const outputs = document.createElement("div");
    outputs.className = "cards";
    shuffle(lvl.pairs.map(p => p.output)).forEach(out => {
      const c = document.createElement("div");
      c.className = "card";
      c.textContent = out;
      c.draggable = true;
      c.addEventListener("dragstart", e => {
        e.dataTransfer.setData("text/plain", out);
      });
      outputs.appendChild(c);
    });

    gameArea.appendChild(pairsDiv);
    gameArea.appendChild(outputs);
  }

  startTimer();
}

// ---------- Checkers ----------
function dropSequence(e, answer) {
  e.preventDefault();
  const text = e.dataTransfer.getData("text/plain");
  e.target.textContent = text;
  checkSequence(answer);
}

function checkSequence(answer) {
  const slots = document.querySelectorAll(".slot");
  let filled = true;
  let correct = true;
  slots.forEach((slot, i) => {
    if (!slot.textContent) filled = false;
    if (slot.textContent !== answer[i]) correct = false;
  });

  if (filled) {
    if (correct) {
      winLevel();
    } else {
      document.getElementById("status").textContent = "‚ùå ‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å ‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà!";
    }
  }
}

function checkChoice(choice, correct) {
  if (choice === correct) {
    winLevel();
  } else {
    document.getElementById("status").textContent = "‚ùå ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å ‡∏•‡∏≠‡∏á‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á!";
  }
}

function dropMatch(e, slot) {
  e.preventDefault();
  const text = e.dataTransfer.getData("text/plain");
  slot.textContent = text;
  if (text === slot.dataset.answer) {
    slot.classList.add("correct");
  } else {
    slot.classList.add("wrong");
  }
  checkMatch();
}

function checkMatch() {
  const slots = document.querySelectorAll(".slot");
  let allFilled = true;
  let allCorrect = true;
  slots.forEach(slot => {
    if (!slot.textContent) allFilled = false;
    if (slot.textContent !== slot.dataset.answer) allCorrect = false;
  });

  if (allFilled) {
    if (allCorrect) {
      winLevel();
    } else {
      document.getElementById("status").textContent = "‚ùå ‡∏ö‡∏≤‡∏á‡∏Ñ‡∏π‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å ‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà!";
    }
  }
}

// ---------- Level Control ----------
function winLevel() {
  clearInterval(timer);
  document.getElementById("status").textContent = "‚úÖ ‡∏ú‡πà‡∏≤‡∏ô‡∏î‡πà‡∏≤‡∏ô!";
  document.getElementById("nextBtn").style.display = "inline-block";
}

function nextLevel() {
  if (level < levels.length) {
    level++;
    renderLevel();
  } else {
    document.getElementById("gameArea").innerHTML = "";
    document.getElementById("question").textContent = "üéâ ‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏î‡πâ‡∏ß‡∏¢! ‡∏Ñ‡∏∏‡∏ì‡∏´‡∏ô‡∏µ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏™‡∏°‡∏≠‡∏á AI ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß!";
    document.getElementById("levelText").textContent = "‡∏à‡∏ö‡πÄ‡∏Å‡∏°";
    document.getElementById("nextBtn").style.display = "none";
    document.getElementById("status").textContent = "ü§ñ ‡∏Ñ‡∏∏‡∏ì‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏£‡∏µ‡∏¢‡∏ô AI ‡πÅ‡∏•‡πâ‡∏ß!";
  }
}

function resetGame() {
  level = 1;
  renderLevel();
}

// Start
renderLevel();
</script>

</body>
</html>
